(this["webpackJsonpreact-leaf-polls-example"]=this["webpackJsonpreact-leaf-polls-example"]||[]).push([[0],[,,,function(e,t,o){e.exports=o(10)},function(e,t,o){},,,,,function(e,t,o){},function(e,t,o){"use strict";o.r(t);o(4);var n=o(0),r=o.n(n),l=o(2),a=o.n(l),i="_2EYYE",s="_3x3X6",u="_1gKL9",c="_28NA5",d="_wMDGK";function v(e,t,o,n){t.votes++,f(e),m(o,e,n)}function m(e,t,o){var n=o[e].current,r=o[0===e?1:0].current,l=t[e].percentage;if(n&&r&&l){n.animate([{width:"50%",easing:"ease-out"},{width:l+"%",easing:"ease-out"}],500),r.animate([{width:"50%",easing:"ease-out"},{width:100-l+"%",easing:"ease-out"}],500),n.style.width=l+"%",r.style.width=100-l+"%",n.animate([{backgroundColor:"white"},{backgroundColor:"#efefef"}],200),n.style.backgroundColor="#EFEFEF";var a=n.offsetHeight;n.style.padding="0",r.style.padding="0",n.classList.remove(c),r.classList.remove(c);var i=o[0].current;i&&(i.style.height=a+"px")}}function f(e){var t=e[0].votes+e[1].votes;e[0].percentage=Math.round(e[0].votes/t*100),e[1].percentage=Math.round(e[1].votes/t*100)}var g=function(e){var t=e.question,o=e.results,l=e.theme,a=e.onVote,g=e.isVoted,p=Object(n.useState)(!1),h=p[0],y=p[1],b=Object(n.useRef)(null),E=Object(n.useRef)(null),C=Object(n.useRef)(null),w=[E,C,b];return Object(n.useEffect)((function(){g&&(f(o),m(0,o,w),y(!0))}),[]),r.a.createElement("article",{className:i,style:{alignItems:null===l||void 0===l?void 0:l.alignment}},t&&r.a.createElement("h1",{style:{color:null===l||void 0===l?void 0:l.textColor}},t),r.a.createElement("div",{ref:b,className:s,style:{backgroundColor:null===l||void 0===l?void 0:l.backgroundColor}},r.a.createElement("div",{ref:E,role:"button",className:c+" "+u,id:"binAnswer0",onClick:function(){h||(y(!0),v(o,o[0],0,w),null===a||void 0===a||a(o[0],o))}},r.a.createElement("div",{className:d},r.a.createElement("p",{style:{color:null===l||void 0===l?void 0:l.leftColor}},o[0].text),h&&r.a.createElement("span",{style:{color:null===l||void 0===l?void 0:l.textColor}},o[0].percentage,"%"))),r.a.createElement("div",{ref:C,role:"button",className:c+" "+u,id:"binAnswer1",onClick:function(){h||(y(!0),v(o,o[1],1,w),null===a||void 0===a||a(o[1],o))}},r.a.createElement("div",{className:d},r.a.createElement("p",{style:{color:null===l||void 0===l?void 0:l.rightColor}},o[1].text),h&&r.a.createElement("span",{style:{color:null===l||void 0===l?void 0:l.textColor}},o[1].percentage,"%")))))},p="_1xGEd",h="_3gEzx",y="_cCkxB",b="_is6ww";function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function C(e,t){var o="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(o)return(o=o.call(e)).next.bind(o);if(Array.isArray(e)||(o=function(e,t){if(e){if("string"===typeof e)return E(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?E(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){o&&(e=o);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e,t,o,n,r){for(var l,a=[],i=[],s=C(e);!(l=s()).done;){var u=l.value;void 0!==n?u.id!==n&&i.push(u):i=e;var c=t.current[u.id].current;c&&a.push(c)}void 0!==n&&(a[n].animate([{width:0,easing:"ease-out",backgroundColor:"white"},{width:e[n].percentage+"%",easing:"ease-out",backgroundColor:""+(null===o||void 0===o?void 0:o.mainColor)}],500),a[n].style.width=e[n].percentage+"%",null!==o&&void 0!==o&&o.mainColor&&(a[n].style.backgroundColor=null===o||void 0===o?void 0:o.mainColor));for(var d,v=C(i);!(d=v()).done;){var m=d.value;a[m.id].animate([{width:0,easing:"ease-out",backgroundColor:"white"},{width:m.percentage+"%",easing:"ease-out",backgroundColor:""+(m.id===r?null===o||void 0===o?void 0:o.mainColor:"#efefef")}],500),a[m.id].style.width=m.percentage+"%",a[m.id].style.backgroundColor=""+(m.id===r?null===o||void 0===o?void 0:o.mainColor:"#efefef")}}function k(e){for(var t,o=[],n=0,r=C(e);!(t=r()).done;){var l=t.value;o.push(l.votes),n+=l.votes}for(var a=0;a<o.length;a++)e[a].percentage=0===n?0:Math.floor(o[a]/n*100)}var x=function(e){var t=e.question,o=e.results,l=e.theme,a=e.onVote,i=e.isVoted,s=e.isVotedId,u=Object(n.useState)(!1),c=u[0],d=u[1],v=Object(n.useRef)(o.map((function(){return Object(n.createRef)()})));return Object(n.useEffect)((function(){i&&(k(o),w(o,v,l,void 0,s),d(!0))}),[]),r.a.createElement("article",{className:p,style:{alignItems:null===l||void 0===l?void 0:l.alignment}},t&&r.a.createElement("h1",{style:{color:null===l||void 0===l?void 0:l.textColor}},t),o.map((function(e){return r.a.createElement("div",{key:e.id,role:"button",id:"mulAnswer"+e.id,className:c?h:y+" "+h,style:{backgroundColor:null===l||void 0===l?void 0:l.backgroundColor},onClick:function(){c||(d(!0),function(e,t,o,n){t.votes++,k(e),w(e,o,n,t.id)}(o,e,v,l),null===a||void 0===a||a(e,o))}},r.a.createElement("div",{ref:v.current[e.id],className:b},r.a.createElement("p",{style:{color:null===l||void 0===l?void 0:l.textColor}},e.text)),c&&r.a.createElement("span",{style:{color:null===l||void 0===l?void 0:l.textColor}},e.percentage,"%"))})))},V=function(e){var t=e.type,o=e.question,r=e.results,l=e.theme,a=e.onVote,i=e.isVoted,s=void 0!==i&&i,u=e.isVotedId;return"binary"===t?Object(n.createElement)(g,{question:o,results:r,theme:l,onVote:a,isVoted:s}):Object(n.createElement)(x,{question:o,results:r,theme:l,onVote:a,isVoted:s,isVotedId:u})},j=(o(9),[{id:0,text:"YES",votes:3},{id:1,text:"NO",votes:10}]),O=[{id:0,text:"React",votes:9},{id:1,text:"Vue",votes:7},{id:2,text:"Angular",votes:2}],A={textColor:"#19181f",mainColor:"#00B87B",backgroundColor:"white",alignment:"center",leftColor:"#00B87B",rightColor:"#FF2E00"};function N(e,t){console.log("voted",e,t)}var I=function(){return r.a.createElement("div",{style:{margin:"300px auto",width:"500px"}},r.a.createElement(V,{type:"binary",question:"Do you like Angular?",results:j,theme:A,onVote:N,isVoted:!0}),r.a.createElement(V,{type:"multiple",question:"Pick your favourite framework.",results:O,theme:A,onVote:N,isVoted:!1}),r.a.createElement("h2",null,"isVoted w/ id for colouring (only for 'multiple')"),r.a.createElement(V,{type:"multiple",question:"Pick your favourite framework.",results:O,theme:A,onVote:N,isVoted:!0,isVotedId:1}))};a.a.render(r.a.createElement(I,null),document.getElementById("root"))}],[[3,1,2]]]);
//# sourceMappingURL=main.04054cfe.chunk.js.map